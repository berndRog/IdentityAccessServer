@page "/error"
@using System.Diagnostics

<PageTitle>Fehler</PageTitle>

<div class="container py-5 text-center">
  <h1 class="display-6 text-danger">Unerwarteter Fehler</h1>

  <p class="text-muted">
    Beim Verarbeiten der Anfrage ist ein technischer Fehler aufgetreten.
  </p>

  @if (ShowRequestId)
  {
    <p class="small text-muted">
      Request-ID: <code>@RequestId</code>
    </p>
  }

  <a href="/" class="btn btn-primary mt-3">Zur Startseite</a>
</div>

@code{
  [CascadingParameter] private HttpContext? HttpContext { get; set; }

  private string? RequestId { get; set; }
  private bool ShowRequestId => !string.IsNullOrEmpty(RequestId);

  protected override void OnInitialized() =>
    RequestId = Activity.Current?.Id ?? HttpContext?.TraceIdentifier;
}